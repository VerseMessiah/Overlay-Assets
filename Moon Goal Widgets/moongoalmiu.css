/* ========= BASE VARIABLES ========= */

:root {
  --scale: 0.9;
  --fill1: #f9f7fe;
  --fill2: #f0eef0;
  --glow: #ffffff;
  --font-color: #ffffff;
  --title-color: #ffffff;
  --font-name: 'Montserrat', sans-serif;
  --font-size: 20px;
  --title-size: 22px;
  --title-weight: 700;
}

body {
  transform: scale(var(--scale));
  transform-origin: left center;
  margin: 0;
  padding: 0;
  overflow: visible;
  font-family: var(--font-name);
}

/* ========= CORE LAYOUT ========= */

.goal-widget {
  position: relative;
  width: 200px;
  height: 180px;
}

.content {
  zoom: 260%;
  position: absolute;
  width: 200px;
  height: 180px;
  top: 35px;
  left: 27px;
  overflow: visible;
}

.progress-cont {
  filter: drop-shadow(0 0 8px var(--glow));
  bottom: -3px;
  position: absolute;
  width: 100%;
  height: 100%;
}

.clipping_mask {
  zoom: 70%;
  position: absolute;
  width: 200px;
  height: 198px;
  margin: 0;
  bottom: 23px;
  left: 56px;
  clip-path: url(#fillclipping_mask);
}

/* ========= FILL / WATER ========= */

.fill,
.fill2 {
  background: linear-gradient(0deg, var(--fill1) 0%, var(--fill2) 100%);
  position: absolute;
  width: 450px;
  bottom: 14px;
  left: 0px;
  transform-origin: bottom;
  margin: 0;
  padding-bottom: 15px;
  clip-path: url(#movementclipping_mask);
  animation: wave 3.5s infinite linear;
  transition: height 0.5s ease-out;
}

.fill {
  height: 100%;
  filter: brightness(7.5);
}

.fill2 {
  height: 98%;
  animation-direction: reverse;
  transform: translateX(-4%);
}

/* ========= VIDEO & FRONT ART ========= */

.shape-box {
  width: 200px;
  left: 0;
  position: absolute;
  bottom: 500px;
  zoom: 64%;
}

.front {
  position: absolute;
  height: 195px;
  bottom: -7px;
  left: 11px;
  z-index: 3;
}

/* ========= BACKDROP ========= */

.backdrop {
  zoom: 182%;
  position: relative;
  width: 180px;
  height: 180px;
  bottom: -87px;
  z-index: -35;
  left: 98px;
  opacity: 0.6;
}

/* ========= TEXT BLOCKS ========= */

.textelement {
  zoom: 160%;
  position: absolute;
  width: 200px;
  height: 180px;
  top: 170px;
  left: 100px;
  overflow: visible;
}

.textright,
.textbottom {
  color: var(--font-color);
  font-size: var(--font-size);
  visibility: hidden;
}

.textright {
  position: absolute;
  left: 246px;
  top: 15%;
  z-index: 3;
  width: 300%;
  text-align: left;
  transform: translateY(-50%);
}

.textbottom {
  position: absolute;
  left: 20px;
  top: 153px;
  z-index: 3;
  width: 200%;
  transform: translateX(-22%);
  text-align: center;
}

.title {
  position: relative;
  z-index: 4;
  font-size: var(--title-size);
  font-family: var(--font-name);
  color: var(--title-color);
  margin-bottom: 0.3em;
  font-weight: var(--title-weight);
}

.text1 {
  margin: 0;
}

/* Glow for text */
.textGlowing {
  filter: drop-shadow(0 0 10px var(--glow));
}

/* ========= PARTICLES ========= */

.circle {
  width: 10px;
  height: 10px;
  border-radius: 50px;
  position: absolute;
  display: none;
  top: 200px;
  z-index: -2;
  background: none;
}

.h1 { transform: scale(0.9); opacity: 0.6; left: 5%;  animation: bubble 2.75s linear infinite, moveside 4s ease-in-out infinite alternate; }
.h2 { transform: scale(0.6); opacity: 0.9; left: 17%; animation: bubble 2s linear infinite,   movesideRight 7s ease-in-out infinite alternate; }
.h3 { transform: scale(0.6); opacity: 0.8; left: 29%; animation: bubble 3s linear infinite,   moveside 3s ease-in-out infinite alternate; }
.h4 { transform: scale(0.75);opacity: 0.9; left: 41%; animation: bubble 4s linear infinite,   movesideRight 2s ease-in-out infinite alternate; }
.h5 { transform: scale(0.5); opacity: 0.3; left: 53%; animation: bubble 1.5s linear infinite,  moveside 2.5s ease-in-out infinite alternate; }
.h6 {                         opacity: 1;   left: 45%; animation: bubble 2.5s linear infinite,  moveside 5s ease-in-out infinite alternate; }
.h7 { transform: scale(0.4); opacity: 0.6; left: 10%; animation: bubble 3.5s linear infinite,  moveside 3.5s ease-in-out infinite alternate; }
.h8 { transform: scale(0.8); opacity: 0.8; left: 60%; animation: bubble 4.5s linear infinite,  moveside 4.5s ease-in-out infinite alternate; }
.h9 {                         opacity: 1;   left: 0%;  animation: bubble 5.5s linear infinite,  movesideRight 6s ease-in-out infinite alternate; }
.h10{ transform: scale(0.3); opacity: 0.8; left: 35%; animation: bubble 3.75s linear infinite, moveside 5.5s ease-in-out infinite alternate; }

/* ========= KEYFRAMES ========= */

@keyframes bubble {
  0%   { top: 90%; opacity: 1; transform: scale(1); }
  100% { top: 20px; opacity: 0; transform: scale(2); }
}

@keyframes moveside {
  from { margin-left: 0px; }
  to   { margin-left: 50px; }
}

@keyframes movesideRight {
  from { margin-left: 0px; }
  to   { margin-left: -50px; }
}

@keyframes wave {
  from { transform: translateX(-21%); }
  to   { transform: translateX(-50%); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 0.6; }
}

/* ========= GOAL TYPE THEMES ========= */

/* üí∞ TIP / DONATION GOAL ‚Äì GOLD/BLUE */
.goal-tip {
  --fill1: #ffd700;
  --fill2: #4da6ff;
  --title-color: #ffd700;
  --font-color: #ffffff;
}

/* ‚≠ê SUB GOAL ‚Äì PURPLE/GOLD */
.goal-sub {
  --fill1: #b66bff;
  --fill2: #fff3b0;
  --title-color: #d7b1ff;
  --font-color: #ffffff;
}

/* üéâ BITS (CHEER) GOAL ‚Äì BLUE / SILVER */
.goal-cheer {
  --fill1: #4aaeff;
  --fill2: #a6b8ff;
  --title-color: #a7cfff;
  --font-color: #ffffff;
}

/* üë• FOLLOWER GOAL ‚Äì WHITE / BLUE */
.goal-follower {
  --fill1: #e0eaff;
  --fill2: #ffffff;
  --title-color: #dfeaff;
  --font-color: #ffffff;
}

/* üíú CHARITY GOAL ‚Äì TEAL / PURPLE */
.goal-charity {
  --fill1: #3fd1c3;
  --fill2: #7f5cff;
  --title-color: #e7f9ff;
  --font-color: #ffffff;
}

/* ===========================
   THEMES BY GOAL TYPE
   (applied to both main + popup)
   =========================== */

/* Twitch Follower Goal ‚Äì white/blue */
.goal-follower .fill,
.goal-follower .fill2,
.goal-follower .goal-spotlight-video-wrap {
  background: radial-gradient(circle at 30% 20%, #ffffff 0%, #dfeaff 40%, #4a82ff 100%);
}

.goal-follower .title,
.goal-follower .textright,
.goal-follower .textbottom,
.goal-follower .goal-spotlight-title,
.goal-follower .goal-spotlight-message,
.goal-follower .goal-spotlight-progress {
  color: #e5f0ff !important;
}

/* Twitch Sub Goal ‚Äì purple/gold */
.goal-sub .fill,
.goal-sub .fill2,
.goal-sub .goal-spotlight-video-wrap {
  background: radial-gradient(circle at 30% 20%, #3b1f4f 0%, #b66bff 40%, #ffe9b3 100%);
}

.goal-sub .title,
.goal-sub .textright,
.goal-sub .textbottom,
.goal-sub .goal-spotlight-title,
.goal-sub .goal-spotlight-message,
.goal-sub .goal-spotlight-progress {
  color: #fbe7ff !important;
}

/* Bits (Cheer) Goal ‚Äì blue / silver */
.goal-cheer .fill,
.goal-cheer .fill2,
.goal-cheer .goal-spotlight-video-wrap {
  background: radial-gradient(circle at 30% 20%, #dfeeff 0%, #4aaeff 40%, #a6b8ff 100%);
}

.goal-cheer .title,
.goal-cheer .textright,
.goal-cheer .textbottom,
.goal-cheer .goal-spotlight-title,
.goal-cheer .goal-spotlight-message,
.goal-cheer .goal-spotlight-progress {
  color: #bfe1ff !important;
}

/* Charity Goal ‚Äì teal / gold */
.goal-charity .fill,
.goal-charity .fill2,
.goal-charity .goal-spotlight-video-wrap {
  background: radial-gradient(circle at 30% 20%, #003f4f 0%, #2dc5a9 40%, #ffe9a0 100%);
}

.goal-charity .title,
.goal-charity .textright,
.goal-charity .textbottom,
.goal-charity .goal-spotlight-title,
.goal-charity .goal-spotlight-message,
.goal-charity .goal-spotlight-progress {
  color: #e5fff8 !important;
}

/* ===========================
   SPOTLIGHT POPUP (2x size)
   =========================== */

.goal-spotlight {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  opacity: 0;
  transform: scale(2); /* 2x size */
  z-index: 999;
}

.goal-spotlight-inner {
  position: relative;
  width: 260px;
  height: 260px;
  border-radius: 50%;
  overflow: visible;
  display: flex;
  align-items: center;
  justify-content: center;
}

.goal-spotlight-video-wrap {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  overflow: hidden;
  filter: drop-shadow(0 0 25px rgba(255, 255, 255, 0.6));
}

.goal-spotlight-video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.goal-spotlight-text {
  position: relative;
  z-index: 2;
  text-align: center;
  padding: 0.75em;
  text-shadow: 0 0 8px rgba(0, 0, 0, 0.9);
  font-family: 'Segoe UI', system-ui, sans-serif;
}

.goal-spotlight-title {
  font-size: 22px;
  font-weight: 700;
  margin-bottom: 0.25em;
}

.goal-spotlight-message {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 0.25em;
}

.goal-spotlight-progress {
  font-size: 14px;
}

/* Grow + fade over 7 seconds */
.goal-spotlight.visible {
  animation: spotlightGrowFade 7s ease-in-out forwards;
}

@keyframes spotlightGrowFade {
  0% {
    opacity: 0;
    transform: scale(1.6);
  }
  10% {
    opacity: 1;
    transform: scale(2);
  }
  90% {
    opacity: 1;
    transform: scale(2);
  }
  100% {
    opacity: 0;
    transform: scale(2.3);
  }
}

/* Tiny fix: your text element uses class="text1" */
.textright .text1,
.textbottom .text1 {
  margin: 0;
  position: relative;
  width: 100%;
  display: block;
}
